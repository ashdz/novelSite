webpackJsonp([1],{"3Hpq":function(t,e){t.exports="data:image/gif;base64,R0lGODlhZABkAKIEAN7e3rq6uv///5mZmQAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBRjA4RUZDMDI3MjA2ODExODA4M0Y1OTQyMzVDRDM3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCMzE0Rjk3NDdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCMzE0Rjk3MzdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDVBMTZDQjczOTIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUYwOEVGQzAyNzIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+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"},"8jBG":function(t,e){},LIZR:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-wrapper"},[n("ul",{staticClass:"tab border-top-1px"},t._l(t.tabs,function(e){return n("router-link",{key:e.id,attrs:{tag:"li",to:e.toPath}},[n("span",{staticClass:"tab-icon",class:e.class}),t._v("\n      "+t._s(e.title)+"\n    ")])}))])},staticRenderFns:[]};var i={name:"App",components:{"v-tab":n("VU/8")({data:function(){return{tabs:[{title:"书架",toPath:"/bookrack",class:"icon-bookrack"},{title:"书城",toPath:"/bookmall",class:"icon-bookmall"},{title:"发现",toPath:"/discover",class:"icon-discover"}]}},created:function(){},methods:{}},a,!1,function(t){n("LIZR")},null,null).exports}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("keep-alive",[e("router-view")],1),this._v(" "),e("v-tab")],1)},staticRenderFns:[]};var o=n("VU/8")(i,r,!1,function(t){n("T5Ts")},null,null).exports,c=n("/ocq"),l={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n\t书架\n")])},staticRenderFns:[]},u=n("VU/8")(null,l,!1,null,null,null).exports,h=n("GQaK"),d={props:{scrollX:{type:Boolean,default:!1},scrollY:{type:Boolean,default:!1},listenTouchend:{type:Boolean,default:!1}},data:function(){return{mallList:!1}},created:function(){this.mallList=this.scrollY},mounted:function(){var t=this;this.$nextTick(function(){t._initBScroll(),t.mallList&&setTimeout(function(){t.refresh()},100)})},methods:{scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},refresh:function(){this.scroll&&this.scroll.refresh()},_initBScroll:function(){this.$refs.scrollWrapper&&(this.scroll=new h.a(this.$refs.scrollWrapper,{click:!0,scrollY:this.scrollY,scrollX:this.scrollX}),this.touchEnd())},touchEnd:function(){if(this.scroll&&this.listenTouchend){var t=this;this.scroll.on("touchEnd",function(e){t.$emit("touchend",e)})}}},watch:{data:function(){var t=this;this.$nextTick(function(){t.refresh()})}}},p={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"scrollWrapper",staticClass:"scroll-wrapper"},[this._t("default")],2)},staticRenderFns:[]};var v=n("VU/8")(d,p,!1,function(t){n("8jBG")},null,null).exports,f={props:{navList:{type:Array,default:function(){return[{id:1,name:"default"}]}},currentTabIndex:{type:Number,default:null}},data:function(){return{currentTab:4,current:1,scrollX:!0}},mounted:function(){var t=this;this._initTabListWidth(),this.$emit("change"),null===this.currentTabIndex?this.current=this.currentTab:this.current=this.currentTabIndex,this.$nextTick(function(){t._adjust(t.current)})},methods:{isCurrentTab:function(t){return t===this.current},selectNav:function(t){this.current=t.id,this._adjust(t.id),this.$emit("change",t)},parentAdjust:function(t){this.current=t,this._adjust(t)},_initTabListWidth:function(){for(var t=this.$refs.tabList,e=t.children,n=0,s=0;s<e.length;s++)n+=e[s].clientWidth;t.style.width=n+1+"px"},_adjust:function(t){var e=this.$refs.viewport.clientWidth,n=this.$refs.tabList.clientWidth,s=Math.min(0,e-n),a=e/2,i=this.$refs.tabList.children,r=0;this.navList.every(function(e,n){return e.id!==t&&(r+=i[n].clientWidth,!0)});var o=a-r;o=Math.max(s,Math.min(0,o)),this.$refs.scroll.scrollTo(o,0,300)}},components:{Scroll:v}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"viewport",staticClass:"navigator-component"},[n("scroll",{ref:"scroll",attrs:{direction:"horizontal",scrollX:t.scrollX}},[n("ul",{ref:"tabList",staticClass:"tab-list"},t._l(t.navList,function(e){return n("li",{staticClass:"tab-item",on:{click:function(n){t.selectNav(e)}}},[t._t("item",[n("span",{staticClass:"tab-name",class:{"link-active":t.isCurrentTab(e.id)}},[t._v(t._s(e.name))])],{text:e.name,index:e.id})],2)}))])],1)},staticRenderFns:[]};var A=n("VU/8")(f,g,!1,function(t){n("qULR")},null,null).exports,m={props:{data:{type:Array,default:function(){return[]}}},data:function(){return{}},created:function(){this.$nextTick(function(){})},mounted:function(){this.$nextTick(function(){})},methods:{selectItem:function(t){this.$emit("select",t)}},computed:{descHeight:function(){var t=window.innerWidth>320?"53px":"32px";return t}},watch:{}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"ranking-wrapper"},t._l(t.data,function(e){return n("li",{key:e.id,on:{click:function(n){t.selectItem(e)}}},[n("div",{staticClass:"cover"},[n("img",{attrs:{src:e.cover,alt:""}})]),t._v(" "),n("div",{staticClass:"text"},[n("h2",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),n("span",{staticClass:"author"},[t._v(t._s(e.author)+" | "+t._s(e.type))]),t._v(" "),n("p",{staticClass:"desc",style:{height:t.descHeight}},[t._v(t._s(e.descr))])])])}))},staticRenderFns:[]};var b=n("VU/8")(m,k,!1,function(t){n("s72P")},null,null).exports,C={props:{title:{type:String,default:"正在载入..."}}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading"},[e("img",{attrs:{width:"24",height:"24",src:n("3Hpq")}}),this._v(" "),e("p",{staticClass:"desc"},[this._v(this._s(this.title))])])},staticRenderFns:[]};var I=n("VU/8")(C,w,!1,function(t){n("Wk6J")},"data-v-356bc8e3",null).exports,y={props:{navListName:{type:String,default:"默认"},data:{type:Array,default:function(){return[]}}},data:function(){return{scrollY:!0,listenTouchend:!0,page:1,pullUp:!0,pullDown:!0}},computed:{},components:{"v-scroll":v,"v-ranking":b,"v-loading":I},created:function(){},mounted:function(){},methods:{refresh:function(){this.$refs.scroll&&this.$refs.scroll.refresh()},touchendFn:function(t){var e=this.$refs.scroll.$refs.scrollWrapper.childNodes[0].clientHeight-this.$refs.scroll.$refs.scrollWrapper.clientHeight-Math.abs(t.y);this.pullUp&&t.y<0&&e<-50?(this.pullUp=!1,this.pullDown=!1,this.page++):this.pullDown&&t.y>50&&(this.pullDown=!1,this.pullUp=!1,this.page=1,this.$parent.getNextRanking(this.page))},selectBook:function(t){this.$parent.book=t,this.$router.push({path:"/bookmall/bkey="+t.bkey+"&desc="+t.descr})}},watch:{page:function(t){this.$parent.getNextRanking(t)},data:function(){var t=this;setTimeout(function(){t.refresh(),t.pullDown=!0,t.pullUp=!0},300)}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.data.length>0?n("v-scroll",{ref:"scroll",staticClass:"mall-wrapper",attrs:{scrollY:t.scrollY,listenTouchend:t.listenTouchend},on:{touchend:t.touchendFn}},[t.data.length>0?n("v-ranking",{attrs:{data:t.data},on:{select:t.selectBook}}):t._e()],1):n("div",[n("v-loading")],1)},staticRenderFns:[]};var R=n("VU/8")(y,_,!1,function(t){n("S8EC")},null,null).exports,T=document.createElement("div").style,x=function(){var t={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(var e in t)if(void 0!==T[t[e]])return e;return!1}();function L(t){return!1!==x&&("standard"===x?t:x+t.charAt(0).toUpperCase()+t.substr(1))}var W=n("//Fk"),M=n.n(W),D=n("woOf"),j=n.n(D),E={uID:"-",sgid:0},O=n("mtWM"),P=n.n(O);var B=L("transform"),U=L("transitionDuration"),z={data:function(){return{scrollY:!0,navList:[{id:1,name:"免费榜",rankId:3,data:[]},{id:2,name:"都市榜",rankId:5,data:[]},{id:3,name:"玄幻榜",rankId:6,data:[]},{id:4,name:"现言榜",rankId:9,data:[]},{id:5,name:"古言榜",rankId:10,data:[]},{id:6,name:"人气榜",rankId:11,data:[]},{id:7,name:"潜力榜",rankId:7,data:[]}],currentTabIndex:1,percent:0,book:[]}},computed:{listWrapperWidth:function(){var t=window.innerWidth;console.log(t);var e=t*this.navList.length;return e+"px"}},components:{"v-scroll":v,"v-navigator":A,"v-mallList":R},created:function(){this.touch={},this._getRankingList({page:1,rankId:this.navList[this.currentTabIndex-1].rankId})},mounted:function(){},methods:{change:function(t){void 0!==t&&(this.currentTabIndex=t.id)},mallTouchStart:function(t){var e=t.touches[0];this.percent=0,this.touch.startX=e.pageX,this.touch.startY=e.pageY,this.touch.offsetWidth=-window.innerWidth*(this.currentTabIndex-1)},mallTouchMove:function(t){var e,n=t.touches[0];this.touch.moveX=n.pageX,this.touch.moveY=n.pageY;var s=this.touch.moveX-this.touch.startX,a=this.touch.moveY-this.touch.startY;Math.abs(a)>Math.abs(s)||s>0&&1===this.currentTabIndex||s<0&&this.currentTabIndex===this.navList.length||(this.percent=s/window.innerWidth,e=this.touch.offsetWidth+s,this.$refs.listWrapper.style[B]="translate3d("+e+"px, 0, 0)",this.$refs.listWrapper.style[U]=0)},mallTouchEnd:function(){if(Math.abs(this.percent)>.3)return this.percent>0?this.currentTabIndex=this.currentTabIndex-1:this.currentTabIndex=this.currentTabIndex+1,void this.$refs.navigator.parentAdjust(this.currentTabIndex);this._listWrapperSlide(this.currentTabIndex)},_listWrapperSlide:function(t){var e=-window.innerWidth*(t-1);this.$refs.listWrapper.style[B]="translate3d("+e+"px, 0, 0)",this.$refs.listWrapper.style[U]="300ms"},_getRankingList:function(t){var e=this;t.page<=1&&(this.navList[this.currentTabIndex-1].data=[]),function(t){var e=j()({},E,{pn:t.page,rankId:t.rankId,gf:"ebye-d1-prank-i"});return P.a.get("proxyApi/rank",{params:e}).then(function(t){return M.a.resolve(t.data)})}(t).then(function(t){e.navList[e.currentTabIndex-1].data=e.navList[e.currentTabIndex-1].data.concat(t.list)}).catch(function(t){console.log("getRankingList error")})},getNextRanking:function(t){this._getRankingList({page:t,rankId:this.navList[this.currentTabIndex-1].rankId})}},watch:{currentTabIndex:function(t){this._listWrapperSlide(t),this.navList[t-1].data.length>0||this._getRankingList({page:1,rankId:this.navList[t-1].rankId})}}},Z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bookmall-wrapper"},[n("div",{staticClass:"bookmall-header"},[t._m(0),t._v(" "),n("v-navigator",{ref:"navigator",attrs:{navList:t.navList,currentTabIndex:t.currentTabIndex},on:{change:t.change}})],1),t._v(" "),n("div",{staticClass:"bookmall-content",on:{touchstart:t.mallTouchStart,touchmove:t.mallTouchMove,touchend:t.mallTouchEnd}},[n("div",{ref:"listWrapper",staticClass:"list-wrapper",style:{width:t.listWrapperWidth}},t._l(t.navList,function(t){return n("v-mallList",{key:t.id,ref:"mallList",refInFor:!0,staticClass:"list",attrs:{navListName:t.name,data:t.data}})}))]),t._v(" "),n("router-view")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("div",{staticClass:"search"},[e("span",{staticClass:"icon-search"}),this._v("\n\t\t\t\t搜索书城\n\t\t\t")]),this._v(" "),e("div",{staticClass:"classify"},[this._v("分类")])])}]};var q=n("VU/8")(z,Z,!1,function(t){n("hM3J")},null,null).exports,G={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n\t发现\n")])},staticRenderFns:[]},J=n("VU/8")(null,G,!1,null,null,null).exports;function N(t){if(t){var e=location.href,n=e.indexOf(t+"="),s=e.lastIndexOf("="),a=s-t.length,i=n+t.length,r="";if(-1===n)return null;if(n===a)r=e.substring(s+1);else{var o=e.indexOf("=",i+1);r=e.substring(i+1,o)}return r}alert("请输入参数！")}function S(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var s in n)if(new RegExp("("+s+")").test(e)){var a=n[s]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?a:Y(a))}return e}function Y(t){return("00"+t).substr(t.length)}var F={data:function(){return{bookintro:{},catalogue:{},book:{},order:{mode:"asc",text:"倒序"},currentPage:1}},filters:{formatDate:function(t){return S(new Date(t),"yyyy-MM-dd")},newDate:function(t){return S(new Date(t),"MM-dd hh:mm")}},computed:{},created:function(){this.book.p=this.currentPage,this.book.bkey=N("bkey"),this.book.mode=this.order.mode,this._getCatalogue(this.book),this.desc=decodeURIComponent(N("desc"))},mounted:function(){},methods:{back:function(){this.$router.go(-1)},orderWay:function(){"asc"===this.order.mode?(this.book.mode=this.order.mode="desc",this.order.text="顺序"):(this.book.mode=this.order.mode="asc",this.order.text="倒序")},firstPage:function(){1!==this.currentPage&&(this.currentPage=1)},lastPage:function(){this.currentPage!==this.catalogue.totalPages&&(this.currentPage=this.catalogue.totalPages)},prePage:function(){1!==this.currentPage&&this.currentPage--},nextPage:function(){this.currentPage!==this.catalogue.totalPages&&this.currentPage++},_getCatalogue:function(t){var e=this;(function(t){var e=j()({},E,{bkey:t.bkey,p:t.p,asc:t.mode,gf:"ebye-d1-pdetail-i"});return P.a.get("catalogueApi/detail",{params:e}).then(function(t){return M.a.resolve(t.data)})})(t).then(function(t){"succ"===t.status&&(e.catalogue=t.list,e.book.ckey=e.catalogue.items[0].ckey,e._getBookIntro(e.book))}).catch(function(t){console.log("getCatalogue error")})},_getBookIntro:function(t){var e=this;(function(t){var e=j()({},E,{bkey:t.bkey,ckey:t.ckey});return P.a.get("proxyApi/bag/getLocalShelfBook",{params:e}).then(function(t){return M.a.resolve(t.data)})})(t).then(function(t){if("succ"===t.status){if("succ"===t.status){var n=t.shelfBook.book;e.bookintro=n,console.log(e.bookintro.lastChapter.name)}console.log(e.bookintro)}}).catch(function(t){console.log("getBookIntro error")})}},watch:{currentPage:function(t){this.book.p=this.currentPage,this._getCatalogue(this.book)},"order.mode":function(){this._getCatalogue(this.book)}}},Q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{staticClass:"bookintro-wrapper"},[n("header",{staticClass:"header-wrapper"},[n("div",{staticClass:"top-nav"},[n("div",{staticClass:"nav-content"},[n("span",{staticClass:"back",on:{click:t.back}})])]),t._v(" "),n("div",{staticClass:"header-content"},[n("div",{staticClass:"book-cover"},[t.bookintro.coverUrl?n("img",{attrs:{src:t.bookintro.coverUrl,alt:""}}):t._e()]),t._v(" "),n("div",{staticClass:"book-detail"},[n("h3",{staticClass:"book-name"},[t._v(t._s(t.bookintro.bookName))]),t._v(" "),n("p",{staticClass:"book-info"},[n("span",[t._v(t._s(t.bookintro.author))]),t._v(" "),n("span",[t._v(t._s(t.bookintro.categoryName))]),t._v(" "),n("span",[t._v(t._s(t.bookintro.status))])]),t._v(" "),n("p",{staticClass:"book-info"},[t._v(t._s(t._f("formatDate")(t.bookintro.updateTime)))])])])]),t._v(" "),n("div",{staticClass:"book-desc"},[n("p",[t._v(t._s(t.desc))])]),t._v(" "),n("div",{staticClass:"catalogue"},[n("div",{staticClass:"catalogue-title"},[n("strong",[t._v("目录")]),t._v("共"+t._s(t.catalogue.total)+"章"),n("span",{staticClass:"sort",on:{click:t.orderWay}},[t._v(t._s(t.order.text))])]),t._v(" "),n("div",{staticClass:"catalogue-detail"},[n("div",{staticClass:"new"},[n("div",{staticClass:"new-txt"},[t.bookintro.lastChapter?n("p",[t._v(t._s(t.bookintro.lastChapter.name))]):t._e(),t._v(" "),n("i",{staticClass:"new-tag"},[t._v("最新")])]),t._v(" "),n("span",{staticClass:"new-time"},[t._v(t._s(t._f("newDate")(t.bookintro.updateTime)))])]),t._v(" "),n("ul",{staticClass:"list"},t._l(t.catalogue.items,function(e){return n("li",[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t"),n("span",{staticClass:"tag"},[t._v(t._s(e.isFree?"免费":"付费"))])])})),t._v(" "),n("div",{staticClass:"page"},[n("span",{class:{noclick:1===t.currentPage},on:{click:t.firstPage}},[t._v("首页")]),t._v(" "),n("span",{class:{noclick:1===t.currentPage},on:{click:t.prePage}},[t._v("上一页")]),t._v(" "),n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.currentPage,expression:"currentPage"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.currentPage=e.target.multiple?n:n[0]}}},t._l(t.catalogue.totalPages,function(e){return n("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e===t.currentPage?t.currentPage+"/"+t.catalogue.totalPages:e))])}))]),t._v(" "),n("span",{class:{noclick:t.currentPage===t.catalogue.totalPages},on:{click:t.nextPage}},[t._v("下一页")]),t._v(" "),n("span",{class:{noclick:t.currentPage===t.catalogue.totalPages},on:{click:t.lastPage}},[t._v("尾页")])])])])])])},staticRenderFns:[]};var H=n("VU/8")(F,Q,!1,function(t){n("dL1b")},null,null).exports;s.a.use(c.a);var V=new c.a({routes:[{path:"/",redirect:"/bookmall"},{path:"/bookrack",name:"Bookrack",component:u},{path:"/bookmall",name:"Bookmall",component:q,children:[{path:":bkey",name:"Bookintro",component:H}]},{path:"/discover",name:"Discover",component:J}]});s.a.config.productionTip=!1,new s.a({el:"#app",router:V,components:{App:o},template:"<App/>"})},S8EC:function(t,e){},T5Ts:function(t,e){},Wk6J:function(t,e){},dL1b:function(t,e){},hM3J:function(t,e){},qULR:function(t,e){},s72P:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.852099ab633198c4e114.js.map